if ($('#modal').length) {
  $('#modal .modal-body').html('<%= j render('form') %>').trigger('shown.bs.modal');
} else {
  $('body').append('<%= j render('shared/modal', title: @title, body: render('form')) %>');
}

$('#modal').on('shown.bs.modal', function() {
  $(this).find('[autofocus]').focus();
  $(this).find('[data-calculator-amount]').keyup();
}).modal('show');

