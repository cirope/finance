<%= simple_form_for @customer do |f| %>
  <div class="form-inputs row">
    <div class="col-md-6">
      <%= f.input :name, input_html: { autofocus: true } %>
      <%= f.input :lastname %>
      <%= f.input :identification %>
      <%= f.input :tax_id %>
      <%= f.input :email %>
      <%= f.input :address %>
    </div>
    <div class="col-md-6">
      <%= f.association :city, collection: City.ordered, label: add_label('city'),
        prompt: true, input_html: { data: { update_after_city_change: true } }
      %>
      <%= f.simple_fields_for :jobs, current_job do |fj| %>
        <%= show_job_options fj %>
        <% if fj.object.new_record? || fj.object.place_id.nil? %>
          <%= fj.input :place_type, as: :hidden, input_html: {
            value: customer_kind(fj), data: { place_type: 'true' }
          } %>
          <%= customer_place_field fj %>
        <% else %>
          <div class="form-group">
            <h6>
              <strong><%= Job.human_attribute_name 'place' %></strong>
            </h6>
            <p><%= fj.object.place %></p>
          </div>
        <% end %>
      <% end %>
      <h6>
        <strong><%= Phone.model_name.human(count: 0) %></strong>
      </h6>
      <%= render('phones/form', f: f) %>
      <%= f.input :lock_version, as: :hidden %>
    </div>
  </div>

  <hr />

  <div class="footer form-actions">
    <div class="pull-right"><%= yield :form_actions %></div>
    <%= f.button :submit, class: 'btn-primary',
      data: { disable_with: t('navigation.processing') } %>
  </div>
<% end %>
