<%= simple_form_for(@customer) do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <div class="row">
      <div class="col-md-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <%= Customer.model_name.human count: 1 %>
          </div>
          <div class="panel-body">
            <%= f.input :name, as: :slim, input_html: {
              autofocus: true
            } %>
            <%= f.input :lastname, as: :slim %>
            <%= f.input :identification, as: :slim %>
            <%= f.input :address, as: :slim %>
            <div class="row">
              <div class="col-xs-10">
                <%= f.association :city, label: false, prompt: t('cities.select'),
                  input_html: { data: { update_after_city_change: true } }
                %>
              </div>
              <div class="col-xs-2">
                <%= link_to new_city_path, title: t('customers.new.city'), data: { remote: true } do %>
                  <%= content_tag :span, nil, class: 'glyphicon glyphicon-plus-sign' %>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <%= Phone.model_name.human count: 0 %>
          </div>
          <div class="panel-body">
            <%= f.simple_fields_for :phones, customer_phones do |ff| %>
              <%= render 'phones/phone', f: ff %>
            <% end %>

            <%= link_to_add_fields t('customers.new.phone'), f, :phones %>
          </div>
        </div>
      </div>
    </div>
    <%= f.input :lock_version, as: :hidden %>
  </div>

  <hr />

  <div class="form-actions">
    <div class="pull-right"><%= yield :form_actions %></div>
    <%= f.button :submit, class: 'btn-primary' %>
  </div>
<% end %>
